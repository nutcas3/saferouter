:3000 {
	root * /srv
	
	encode gzip zstd
	
	header {
		X-Frame-Options "SAMEORIGIN"
		X-Content-Type-Options "nosniff"
		X-XSS-Protection "1; mode=block"
		Referrer-Policy "no-referrer-when-downgrade"
		Content-Security-Policy "default-src 'self' https:; script-src 'self' 'unsafe-inline' 'unsafe-eval'; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com; font-src 'self' https://fonts.gstatic.com; img-src 'self' data: https:; connect-src 'self' http://localhost:8080 https:;"
		
		@static {
			path *.js *.css *.png *.jpg *.jpeg *.gif *.ico *.svg *.woff *.woff2 *.ttf *.eot
		}
		Cache-Control "public, max-age=31536000, immutable" @static
	}
	
	handle /health {
		respond "healthy" 200
	}
	
	try_files {path} /index.html
	file_server
	
	log {
		output stdout
		format console
	}
}
